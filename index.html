<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Holistyczny Dob贸r Kosmetyk贸w - Interaktywna Prezentacja</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: Stworzyem struktur opart na zadaniach u偶ytkownika, kt贸ra przeksztaca statyczny opis z GitHub w interaktywne dowiadczenie. Zamiast lustrzanego odbicia raportu, aplikacja symuluje kluczowe funkcje opisywanego narzdzia. Zaczyna si od sekcji wprowadzajcej (Hero), kt贸ra wyjania cel i zachca do dziaania. Nastpnie przechodzi do interaktywnego "kreatora" doboru kosmetyku, kt贸ry jest rdzeniem aplikacji. Pozwala to u偶ytkownikowi "poczu", jak dziaa produkt. Dalej znajduje si symulacja funkcji eksperymentalnej (AI) oraz sekcja techniczna z instrukcjami Docker. Taki podzia na sekcje tematyczne (wprowadzenie -> demo -> funkcja specjalna -> techniczne) jest bardziej intuicyjny dla u偶ytkownika kocowego ni偶 struktura oryginalnego pliku README i lepiej realizuje cel, jakim jest prezentacja mo偶liwoci aplikacji. -->
    <!-- Visualization & Content Choices: Informacje z raportu zostay przeksztacone w interaktywne komponenty. Cel: Informacja o problemie -> Sekcja Hero z zwizym tekstem i przyciskiem CTA. Cel: Symulacja doboru -> Wielostopniowy formularz z przyciskami (HTML/JS), kt贸ry dynamicznie pokazuje wyniki. To anga偶uje u偶ytkownika bardziej ni偶 tekst. Cel: Por贸wnanie produkt贸w -> Karty produkt贸w (HTML/Tailwind) z mockowymi danymi. Cel: Prezentacja danych o skadzie -> Wykres koowy (Chart.js) w modalu, pokazujcy proporcje skadnik贸w (np. baza, aktywne, olejki), co jest bardziej przystpne ni偶 lista. Cel: Symulacja funkcji AI -> Prosty formularz z dynamicznie generowanym wynikiem i wyra藕nym ostrze偶eniem. Cel: Instrukcje techniczne -> Przejrzyste bloki kodu. Wybory te realizuj interaktywn wizj, unikajc statycznego przedstawiania treci. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', sans-serif; }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .smooth-scroll { scroll-behavior: smooth; }
        .modal-backdrop {
            background-color: rgba(0,0,0,0.5);
            transition: opacity 0.3s ease-in-out;
        }
        .modal-content {
            transition: transform 0.3s ease-in-out;
        }
    </style>
</head>
<body class="bg-[#FDFBF7] text-[#3D3A37] smooth-scroll">

    <header class="bg-[#FDFBF7]/80 backdrop-blur-sm sticky top-0 z-40 border-b border-[#EAE5DD]">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-xl font-bold text-[#6B5B4B]">Holistyczny Dob贸r</h1>
            <div class="hidden md:flex space-x-8">
                <a href="#dlaczego-to-wazne" class="hover:text-[#A0522D] transition-colors">Dlaczego to wa偶ne?</a>
                <a href="#demo" class="hover:text-[#A0522D] transition-colors">Wypr贸buj Demo</a>
                <a href="#ai-creator" class="hover:text-[#A0522D] transition-colors">Kreator AI</a>
                <a href="#docker" class="hover:text-[#A0522D] transition-colors">Uruchom Lokalnie</a>
            </div>
            <button id="mobile-menu-button" class="md:hidden p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-[#A0522D]">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-6 pt-2 pb-4 space-y-2">
             <a href="#dlaczego-to-wazne" class="block hover:text-[#A0522D] transition-colors">Dlaczego to wa偶ne?</a>
             <a href="#demo" class="block hover:text-[#A0522D] transition-colors">Wypr贸buj Demo</a>
             <a href="#ai-creator" class="block hover:text-[#A0522D] transition-colors">Kreator AI</a>
             <a href="#docker" class="block hover:text-[#A0522D] transition-colors">Uruchom Lokalnie</a>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12">

        <section id="hero" class="text-center py-16">
            <h2 class="text-4xl md:text-5xl font-bold text-[#6B5B4B] mb-4">Twoja Droga do wiadomej Pielgnacji</h2>
            <p class="max-w-3xl mx-auto text-lg text-[#5C5855] mb-8">
                Odkryj narzdzie, kt贸re rewolucjonizuje proces doboru kosmetyk贸w, czynic go prostym, intuicyjnym i skutecznym. Koniec z frustracj i nietrafionymi zakupami.
            </p>
            <a href="#demo" class="bg-[#A0522D] text-white font-bold py-3 px-8 rounded-lg hover:bg-[#8B4513] transition-transform transform hover:scale-105 inline-block">
                Rozpocznij Dob贸r Kosmetyk贸w
            </a>
        </section>

        <section id="dlaczego-to-wazne" class="py-16">
             <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-[#6B5B4B] mb-2">Dlaczego wiadomy Wyb贸r Ma Znaczenie?</h3>
                <p class="max-w-3xl mx-auto text-[#5C5855]">W tej sekcji dowiesz si, dlaczego nasza aplikacja jest odpowiedzi na wyzwania wsp贸czesnego rynku kosmetycznego. Wyjaniamy, jak waciwy dob贸r produkt贸w wpywa na zdrowie i kondycj sk贸ry, i jak nasze narzdzie uatwia podjcie najlepszych decyzji pielgnacyjnych.</p>
            </div>
            <div class="grid md:grid-cols-3 gap-8 text-center">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-[#EAE5DD]">
                    <div class="text-4xl mb-4">Л</div>
                    <h4 class="text-xl font-semibold mb-2 text-[#6B5B4B]">Zo偶ony Rynek</h4>
                    <p class="text-[#5C5855]">Wsp贸czesny rynek kosmetyczny to labirynt produkt贸w i obietnic. Nasza aplikacja upraszcza nawigacj, dostarczajc jasnych, naukowo uzasadnionych rekomendacji.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-[#EAE5DD]">
                    <div class="text-4xl mb-4"></div>
                    <h4 class="text-xl font-semibold mb-2 text-[#6B5B4B]">Ryzyko Bd贸w</h4>
                    <p class="text-[#5C5855]">Niewaciwie dobrane kosmetyki mog prowadzi do podra偶nie i problem贸w sk贸rnych. Pomagamy unika tych pomyek, personalizujc wyb贸r pod Twoje potrzeby.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-[#EAE5DD]">
                     <div class="text-4xl mb-4"></div>
                    <h4 class="text-xl font-semibold mb-2 text-[#6B5B4B]">wiadoma Decyzja</h4>
                    <p class="text-[#5C5855]">Dajemy Ci wiedz i kontrol. Zrozumiesz skad produkt贸w i podejmiesz decyzje, kt贸re realnie wpyn na Twoje zdrowie i dobre samopoczucie.</p>
                </div>
            </div>
        </section>

        <section id="demo" class="py-16 bg-[#F8F4EF] -mx-6 px-6 rounded-xl">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-[#6B5B4B] mb-2">Wypr贸buj Interaktywne Demo</h3>
                <p class="max-w-3xl mx-auto text-[#5C5855]">Przekonaj si, jak dziaa nasza aplikacja. Ta interaktywna symulacja przeprowadzi Ci przez proces doboru idealnego kosmetyku. Odpowiedz na kilka pyta, a my zaproponujemy produkty dopasowane do Twoich potrzeb, wraz z analiz ich skadu.</p>
            </div>
            
            <div id="wizard" class="max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-md border border-[#EAE5DD]">
                <div id="step1">
                    <h4 class="text-2xl font-semibold text-center mb-6">Krok 1: Jaki jest Tw贸j typ cery?</h4>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <button data-choice="skinType" data-value="sucha" class="wizard-button p-4 border rounded-lg hover:bg-[#F8F4EF] hover:border-[#A0522D] transition">Sucha</button>
                        <button data-choice="skinType" data-value="mieszana" class="wizard-button p-4 border rounded-lg hover:bg-[#F8F4EF] hover:border-[#A0522D] transition">Mieszana</button>
                        <button data-choice="skinType" data-value="tusta" class="wizard-button p-4 border rounded-lg hover:bg-[#F8F4EF] hover:border-[#A0522D] transition">Tusta</button>
                        <button data-choice="skinType" data-value="normalna" class="wizard-button p-4 border rounded-lg hover:bg-[#F8F4EF] hover:border-[#A0522D] transition">Normalna</button>
                        <button data-choice="skinType" data-value="wra偶liwa" class="wizard-button p-4 border rounded-lg hover:bg-[#F8F4EF] hover:border-[#A0522D] transition">Wra偶liwa</button>
                    </div>
                </div>

                <div id="step2" class="hidden">
                    <h4 class="text-2xl font-semibold text-center mb-6">Krok 2: Jaki jest Tw贸j g贸wny cel pielgnacyjny?</h4>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <button data-choice="concern" data-value="nawil偶enie" class="wizard-button p-4 border rounded-lg hover:bg-[#F8F4EF] hover:border-[#A0522D] transition">Nawil偶enie</button>
                        <button data-choice="concern" data-value="przeciwzmarszczkowe" class="wizard-button p-4 border rounded-lg hover:bg-[#F8F4EF] hover:border-[#A0522D] transition">Anti-Aging</button>
                        <button data-choice="concern" data-value="wypryski" class="wizard-button p-4 border rounded-lg hover:bg-[#F8F4EF] hover:border-[#A0522D] transition">Walka z wypryskami</button>
                        <button data-choice="concern" data-value="agodzenie" class="wizard-button p-4 border rounded-lg hover:bg-[#F8F4EF] hover:border-[#A0522D] transition">agodzenie</button>
                        <button data-choice="concern" data-value="rozwietlenie" class="wizard-button p-4 border rounded-lg hover:bg-[#F8F4EF] hover:border-[#A0522D] transition">Rozwietlenie</button>
                    </div>
                     <button id="back-to-step1" class="mt-6 w-full text-center text-[#A0522D] hover:underline">Wr贸</button>
                </div>

                <div id="results" class="hidden">
                    <h4 class="text-2xl font-semibold text-center mb-6">Oto Twoje spersonalizowane rekomendacje:</h4>
                    <div id="results-container" class="space-y-4"></div>
                    <button id="restart-wizard" class="mt-6 w-full bg-[#A0522D] text-white font-bold py-3 px-8 rounded-lg hover:bg-[#8B4513] transition">Zacznij od nowa</button>
                </div>
            </div>
        </section>

        <section id="ai-creator" class="py-16">
            <div class="text-center mb-12">
                 <h3 class="text-3xl font-bold text-[#6B5B4B] mb-2">Stw贸rz Wasny Kosmetyk <span class="text-sm align-top bg-yellow-200 text-yellow-800 px-2 py-1 rounded-full">Beta</span></h3>
                <p class="max-w-3xl mx-auto text-[#5C5855]">Ta sekcja pozwala Ci wypr贸bowa nasz eksperymentaln funkcj opart na Sztucznej Inteligencji. Mo偶esz skomponowa wasn receptur, wybierajc baz i skadniki aktywne. Pamitaj, 偶e to narzdzie jest w fazie rozwoju i jego sugestie nale偶y traktowa z ostro偶noci.</p>
            </div>
            <div class="max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-md border border-[#EAE5DD]">
                 <div class="grid md:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label for="base" class="block mb-1 font-medium">Wybierz baz:</label>
                        <select id="base" class="w-full p-2 border rounded-lg">
                            <option>Baza hialuronowa</option>
                            <option>Baza aloesowa</option>
                            <option>Baza lipidowa</option>
                        </select>
                    </div>
                    <div>
                        <label for="active" class="block mb-1 font-medium">Wybierz skadnik aktywny:</label>
                        <select id="active" class="w-full p-2 border rounded-lg">
                            <option>Witamina C</option>
                            <option>Retinol</option>
                            <option>Niacynamid</option>
                        </select>
                    </div>
                </div>
                <button id="generate-formula" class="w-full bg-[#A0522D] text-white font-bold py-3 px-8 rounded-lg hover:bg-[#8B4513] transition mb-4">Generuj Receptur</button>
                <div id="formula-output" class="hidden">
                    <h5 class="font-semibold mb-2">Twoja wygenerowana receptura:</h5>
                    <textarea id="formula-text" readonly class="w-full h-32 p-2 bg-gray-100 rounded-lg border"></textarea>
                    <div class="mt-4 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-r-lg">
                        <h6 class="font-bold">Wa偶na uwaga!</h6>
                        <p class="text-sm">Ta funkcja jest eksperymentalna i dziaa w oparciu o SI. Sugestie mog zawiera bdy. Zawsze weryfikuj uzyskane informacje i zachowaj ostro偶no.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="docker" class="py-16 bg-[#F8F4EF] -mx-6 px-6 rounded-xl">
            <div class="text-center mb-12">
                 <h3 class="text-3xl font-bold text-[#6B5B4B] mb-2">Uruchom Pen Aplikacj Lokalnie</h3>
                 <p class="max-w-3xl mx-auto text-[#5C5855]">Chcesz skorzysta z penego potencjau naszego narzdzia? Aplikacja zostaa przygotowana jako obraz Docker, co gwarantuje prostot uruchomienia na dowolnym komputerze. W tej sekcji znajdziesz kompletne instrukcje, jak pobra i uruchomi aplikacj lokalnie.</p>
            </div>
            <div class="max-w-3xl mx-auto space-y-8">
                <div>
                    <h4 class="text-xl font-semibold mb-2 flex items-center"><span class="bg-[#A0522D] text-white rounded-full w-8 h-8 flex items-center justify-center mr-3">1</span> Pobranie obrazu Docker</h4>
                    <p class="mb-2 text-[#5C5855]">Upewnij si, 偶e masz zainstalowany Docker, a nastpnie wykonaj poni偶sz komend w terminalu.</p>
                    <pre class="bg-gray-800 text-white p-4 rounded-lg overflow-x-auto"><code>docker pull [nazwa_u偶ytkownika]/[nazwa_repozytorium]:[tag]</code></pre>
                </div>
                 <div>
                    <h4 class="text-xl font-semibold mb-2 flex items-center"><span class="bg-[#A0522D] text-white rounded-full w-8 h-8 flex items-center justify-center mr-3">2</span> Uruchomienie kontenera</h4>
                     <p class="mb-2 text-[#5C5855]">Po pobraniu obrazu, uruchom kontener. Aplikacja domylnie bdzie dostpna na porcie 80.</p>
                    <pre class="bg-gray-800 text-white p-4 rounded-lg overflow-x-auto"><code>docker run -p 80:80 [nazwa_u偶ytkownika]/[nazwa_repozytorium]:[tag]</code></pre>
                </div>
                 <div>
                    <h4 class="text-xl font-semibold mb-2 flex items-center"><span class="bg-[#A0522D] text-white rounded-full w-8 h-8 flex items-center justify-center mr-3">3</span> Otwarcie w przegldarce</h4>
                     <p class="mb-2 text-[#5C5855]">Otw贸rz przegldark i przejd藕 pod adres, aby rozpocz korzystanie z aplikacji.</p>
                    <pre class="bg-gray-800 text-white p-4 rounded-lg overflow-x-auto"><code>http://localhost</code></pre>
                </div>
            </div>
        </section>

    </main>
    
    <footer class="border-t border-[#EAE5DD] mt-16">
        <div class="container mx-auto px-6 py-6 text-center text-[#5C5855]">
            <p>&copy; 2025 Holistyczny Dob贸r Kosmetyk贸w. Stworzono w ramach projektu badawczo-rozwojowego.</p>
        </div>
    </footer>

    <div id="modal" class="fixed inset-0 z-50 hidden items-center justify-center p-4">
        <div class="modal-backdrop fixed inset-0"></div>
        <div class="modal-content bg-white rounded-lg shadow-xl w-full max-w-lg mx-auto transform scale-95 z-10 p-6">
            <div class="flex justify-between items-center mb-4">
                 <h5 id="modal-title" class="text-2xl font-bold text-[#6B5B4B]"></h5>
                 <button id="close-modal" class="text-gray-500 hover:text-gray-800">&times;</button>
            </div>
            <div id="modal-body"></div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const productsData = [
                {
                    id: 1,
                    name: 'Krem Nawil偶ajcy z Kwasem Hialuronowym',
                    desc: 'Intensywnie nawil偶a, idealny dla cery suchej i normalnej, pozostawia sk贸r gadk i elastyczn.',
                    ingredients: ['Kwas Hialuronowy', 'Gliceryna', 'Maso Shea', 'Ekstrakt z aloesu'],
                    link: 'https://www.przykladowyproducent.pl/krem-nawilzajacy',
                    skinType: ['sucha', 'normalna'],
                    concern: ['nawil偶enie', 'agodzenie'],
                    chartData: [55, 30, 15]
                },
                {
                    id: 2,
                    name: 'Serum Wygadzajce z Retinolem',
                    desc: 'Silne serum przeciwzmarszczkowe dla cery dojrzaej, redukuje drobne linie i poprawia jdrno.',
                    ingredients: ['Retinol', 'Peptydy', 'Witamina E', 'Skwalan'],
                    link: 'https://www.przykladowyproducent.pl/serum-retinolowe',
                    skinType: ['normalna', 'mieszana', 'sucha'],
                    concern: ['przeciwzmarszczkowe'],
                    chartData: [40, 45, 15]
                },
                {
                    id: 3,
                    name: '呕el Oczyszczajcy do Cery Tustej i Mieszanej',
                    desc: 'Delikatnie oczyszcza pory, redukuje nadmiar sebum i zapobiega wypryskom.',
                    ingredients: ['Kwas Salicylowy', 'Niacynamid', 'Ekstrakt z zielonej herbaty'],
                    link: 'https://www.przykladowyproducent.pl/zel-oczyszczajacy',
                    skinType: ['tusta', 'mieszana'],
                    concern: ['wypryski', 'rozwietlenie'],
                    chartData: [60, 25, 15]
                },
                {
                    id: 4,
                    name: 'Krem agodzcy z Pantenolem',
                    desc: 'Koi podra偶nienia i zaczerwienienia, idealny dla cery wra偶liwej i po zabiegach kosmetycznych.',
                    ingredients: ['Pantenol', 'Alantoina', 'Ekstrakt z nagietka'],
                    link: 'https://www.przykladowyproducent.pl/krem-lagodzacy',
                    skinType: ['wra偶liwa', 'sucha'],
                    concern: ['agodzenie', 'nawil偶enie'],
                    chartData: [65, 20, 15]
                },
                {
                    id: 5,
                    name: 'Serum Rozwietlajce z Witamin C',
                    desc: 'Wyr贸wnuje koloryt sk贸ry, rozjania przebarwienia i dodaje blasku.',
                    ingredients: ['Witamina C', 'Kwas Ferulowy', 'Witamina E', 'Ekstrakt z lukrecji'],
                    link: 'https://www.przykladowyproducent.pl/serum-witamina-c',
                    skinType: ['normalna', 'mieszana'],
                    concern: ['rozwietlenie', 'przeciwzmarszczkowe'],
                    chartData: [50, 40, 10]
                },
                 {
                    id: 6,
                    name: 'Tonik Matujcy do Cery Tustej',
                    desc: 'Zmniejsza widoczno por贸w i reguluje wydzielanie sebum, zapewniajc dugotrway efekt matujcy.',
                    ingredients: ['Cynk PCA', 'Ekstrakt z wierzbownicy', 'Woda oczarowa'],
                    link: 'https://www.przykladowyproducent.pl/tonik-matujacy',
                    skinType: ['tusta'],
                    concern: ['wypryski'],
                    chartData: [70, 20, 10]
                },
                 {
                    id: 7,
                    name: 'Krem pod Oczy Anti-Aging',
                    desc: 'Zmniejsza cienie i opuchlizn pod oczami, wygadza drobne zmarszczki.',
                    ingredients: ['Kofeina', 'Peptydy', 'Kwas hialuronowy'],
                    link: 'https://www.przykladowyproducent.pl/krem-pod-oczy',
                    skinType: ['sucha', 'normalna', 'wra偶liwa'],
                    concern: ['przeciwzmarszczkowe', 'rozwietlenie'],
                    chartData: [45, 40, 15]
                }
            ];
            
            const state = { skinType: null, concern: null };
            const wizard = document.getElementById('wizard');
            const step1 = document.getElementById('step1');
            const step2 = document.getElementById('step2');
            const results = document.getElementById('results');
            const resultsContainer = document.getElementById('results-container');

            wizard.addEventListener('click', (e) => {
                if (e.target.matches('[data-choice]')) {
                    const { choice, value } = e.target.dataset;
                    state[choice] = value;
                    if (choice === 'skinType') {
                        step1.classList.add('hidden');
                        step2.classList.remove('hidden');
                    } else if (choice === 'concern') {
                        step2.classList.add('hidden');
                        displayResults();
                        results.classList.remove('hidden');
                    }
                }
            });

            document.getElementById('back-to-step1').addEventListener('click', () => {
                state.concern = null;
                step2.classList.add('hidden');
                step1.classList.remove('hidden');
            });

            document.getElementById('restart-wizard').addEventListener('click', () => {
                state.skinType = null;
                state.concern = null;
                results.classList.add('hidden');
                step1.classList.remove('hidden');
                resultsContainer.innerHTML = '';
            });

            function displayResults() {
                const filteredProducts = productsData.filter(p =>
                    (state.skinType === null || p.skinType.includes(state.skinType)) &&
                    (state.concern === null || p.concern.includes(state.concern))
                );

                resultsContainer.innerHTML = '';
                if (filteredProducts.length > 0) {
                    filteredProducts.forEach(p => {
                        const productCard = `
                            <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <h5 class="font-bold text-lg">${p.name}</h5>
                                <p class="text-sm text-gray-600 mb-3">${p.desc}</p>
                                <div class="flex flex-wrap gap-2">
                                    <button data-modal="ingredients" data-id="${p.id}" class="text-sm bg-[#A0522D] text-white py-1 px-3 rounded hover:bg-[#8B4513] transition">Zobacz skad</button>
                                    <button data-modal="chart" data-id="${p.id}" class="text-sm bg-gray-200 text-gray-800 py-1 px-3 rounded hover:bg-gray-300 transition">Zobacz statystyki</button>
                                    ${p.link ? `<a href="${p.link}" target="_blank" rel="noopener noreferrer" class="text-sm bg-[#6B5B4B] text-white py-1 px-3 rounded hover:bg-[#3D3A37] transition">Strona Producenta</a>` : ''}
                                </div>
                            </div>`;
                        resultsContainer.innerHTML += productCard;
                    });
                } else {
                    resultsContainer.innerHTML = '<p class="text-center text-gray-600">Przepraszamy, nie znaleziono rekomendacji dla tego poczenia. Spr贸buj ponownie.</p>';
                }
            }
            
            const modal = document.getElementById('modal');
            const closeModalBtn = document.getElementById('close-modal');
            const modalBackdrop = modal.querySelector('.modal-backdrop');

            function openModal(title, content) {
                document.getElementById('modal-title').innerText = title;
                document.getElementById('modal-body').innerHTML = content;
                modal.classList.remove('hidden');
                modal.classList.add('flex');
                setTimeout(() => {
                     modal.querySelector('.modal-backdrop').style.opacity = '1';
                     modal.querySelector('.modal-content').style.transform = 'scale(1)';
                }, 10);
            }
            
            function closeModal() {
                 modal.querySelector('.modal-backdrop').style.opacity = '0';
                 modal.querySelector('.modal-content').style.transform = 'scale(0.95)';
                 setTimeout(() => {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                 }, 300);
            }
            
            closeModalBtn.addEventListener('click', closeModal);
            modalBackdrop.addEventListener('click', closeModal);
            
            resultsContainer.addEventListener('click', (e) => {
                const button = e.target.closest('[data-modal]');
                if (!button) return;
                
                const { modal: modalType, id } = button.dataset;
                const product = productsData.find(p => p.id == id);
                
                if (!product) return; // Add a safeguard if product is not found

                if (modalType === 'ingredients') {
                    const content = `<ul>${product.ingredients.map(i => `<li class="mb-1 p-2 bg-gray-100 rounded">${i}</li>`).join('')}</ul>`;
                    openModal(`Skadniki: ${product.name}`, content);
                } else if (modalType === 'chart') {
                    const content = '<div class="chart-container"><canvas id="productChart"></canvas></div>';
                    openModal(`Statystyki Skadu: ${product.name}`, content);
                    
                    const ctx = document.getElementById('productChart').getContext('2d');
                    new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: ['Baza pielgnacyjna', 'Skadniki aktywne', 'Dodatki i konserwanty'],
                            datasets: [{
                                data: product.chartData,
                                backgroundColor: ['#D2B48C', '#A0522D', '#EAE5DD'],
                                borderColor: '#fff',
                                borderWidth: 2
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: { position: 'bottom' },
                                tooltip: {
                                    callbacks: {
                                        label: function(context) {
                                            let label = context.label || '';
                                            if (label) {
                                                label += ': ';
                                            }
                                            if (context.parsed !== null) {
                                                label += context.parsed + '%';
                                            }
                                            return label;
                                        }
                                    }
                                }
                            }
                        }
                    });
                }
            });

            document.getElementById('generate-formula').addEventListener('click', () => {
                const base = document.getElementById('base').value;
                const active = document.getElementById('active').value;
                const formulaText = document.getElementById('formula-text');
                const formulaOutput = document.getElementById('formula-output');

                formulaText.value = `GENEROWANIE RECEPTURY...\nBaza: ${base}\nSkadnik Aktywny: ${active}\nProporcje: SI analizuje...`;
                formulaOutput.classList.remove('hidden');

                setTimeout(() => {
                     formulaText.value = `Wygenerowana Receptura (Przykad):\n- ${base}: 85%\n- ${active}: 10%\n- Gliceryna (humektant): 4%\n- Konserwant naturalny: 1%`;
                }, 1500);
            });
            
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            mobileMenu.addEventListener('click', (e) => {
                if (e.target.tagName === 'A') {
                    mobileMenu.classList.add('hidden');
                }
            });

        });
    </script>
</body>
</html>
